<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Elevator : Minimalistic database engine based on levelDB as a backend, and protocol buffer as a message protocol." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Elevator</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/oleiade/Elevator">View on GitHub</a>

          <h1 id="project_title">Elevator</h1>
          <h2 id="project_tagline">Minimalistic database engine based on levelDB as a backend, and protocol buffer as a message protocol.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/oleiade/Elevator/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/oleiade/Elevator/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>Elevator</h1>

<p>Minimalistic database engine written in Python an based on levelDB.</p>

<p>Allows async, multithreaded and/or remote acces to a leveldb backend. Will implement soon more complex data structures such as List, Hashes, and Sets as native parts of the Engine.</p>

<p>Relying on the zeromq network library, it is made to be portable between languages and platforms.</p>

<p>N.B. Still very early release, should not be stable, and be warned that many changes breaking backward compatibility are still possible.</p>

<h2>Dependencies</h2>

<ul>
<li>pyzmq</li>
<li>leveldb</li>
<li>snappy</li>
<li>py-leveldb</li>
<li>Installation</li>
<li>pip install fabric</li>
<li>fab install_dependencies</li>
<li>python setup.py install</li>
</ul><h2>Usage</h2>

<h3>Server</h3>

<p>When elevator installed, you can then launch the server using the elevator executable. Note that a --daemon option is disposable, and allows you to run elevator server as a daemon, storing it's pid in .pid file in /tmp.</p>

<p><strong>Example:</strong></p>

<div class="highlight"><pre>elevator --help
usage: elevator <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--daemon<span class="o">]</span> <span class="o">[</span>--config CONFIG<span class="o">]</span> <span class="o">[</span>--bind BIND<span class="o">]</span> <span class="o">[</span>--port PORT<span class="o">]</span>
                <span class="o">[</span>--db DB<span class="o">]</span>

Elevator <span class="nb">command </span>line manager

optional arguments:
  -h, --help       show this <span class="nb">help </span>message and <span class="nb">exit</span>
  --daemon
  --config CONFIG
  --bind BIND
  --port PORT
  --db DB
</pre></div>

<h3>Client</h3>

<p>In order to communicate with elevator, a python client is avalaible. You can use it through the Elevator object, brought by the client module.</p>

<p>Note that by default, client to 'default' database. As Elevator implements a multi-db system, you can create/list/delete/repair databases. To connect to another database, use the eponyme function .connect()</p>

<p><strong>Here is a demo:</strong></p>

<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">elevator.client</span> <span class="kn">import</span> <span class="n">Elevator</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">E</span> <span class="o">=</span> <span class="n">Elevator</span><span class="p">()</span>  <span class="c"># N.B : connected to 'default'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Ebis</span> <span class="o">=</span> <span class="n">Elevator</span><span class="p">(</span><span class="s">'testdb'</span><span class="p">)</span>  <span class="c"># You can even construct your client with desired db to connect to</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">E</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'testdbbis'</span><span class="p">)</span>  <span class="c"># Or even rebind client to a new database</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">E</span><span class="o">.</span><span class="n">Put</span><span class="p">(</span><span class="s">'abc'</span><span class="p">,</span> <span class="s">'cba'</span><span class="p">)</span>
<span class="s">'True'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">E</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">'abc'</span><span class="p">)</span>
<span class="s">'cba'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">E</span><span class="o">.</span><span class="n">Delete</span><span class="p">(</span><span class="s">'abc'</span><span class="p">)</span>
<span class="s">''</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="o">...</span>     <span class="n">E</span><span class="o">.</span><span class="n">Put</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">E</span><span class="o">.</span><span class="n">Range</span><span class="p">(</span><span class="s">'1'</span><span class="p">,</span> <span class="s">'9'</span><span class="p">)</span>
<span class="p">[[</span><span class="s">'1'</span><span class="p">,</span><span class="s">'1'</span><span class="p">],</span>
 <span class="p">[</span><span class="s">'2'</span><span class="p">,</span><span class="s">'2'</span><span class="p">],</span>
 <span class="p">[</span><span class="s">'3'</span><span class="p">,</span> <span class="s">'3'</span><span class="p">],</span>
 <span class="p">[</span><span class="s">'4'</span><span class="p">,</span> <span class="s">'4'</span><span class="p">],</span>
 <span class="p">[</span><span class="s">'5'</span><span class="p">,</span> <span class="s">'5'</span><span class="p">],</span>
 <span class="p">[</span><span class="s">'6'</span><span class="p">,</span> <span class="s">'6'</span><span class="p">],</span>
 <span class="p">[</span><span class="s">'7'</span><span class="p">,</span> <span class="s">'7'</span><span class="p">],</span>
 <span class="p">[</span><span class="s">'8'</span><span class="p">,</span> <span class="s">'8'</span><span class="p">],</span>
 <span class="p">[</span><span class="s">'9'</span><span class="p">,</span> <span class="s">'9'</span><span class="p">],</span>
<span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">E</span><span class="o">.</span><span class="n">Range</span><span class="p">(</span><span class="s">'1'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">[[</span><span class="s">'1'</span><span class="p">,</span> <span class="s">'1'</span><span class="p">],</span>
 <span class="p">[</span><span class="s">'2'</span><span class="p">,</span> <span class="s">'2'</span><span class="p">],</span>
<span class="p">]</span>
</pre></div>

<p>Batches are implemented too. They're very handy and very fast when it comes to write a lot of datas to the database. See LevelDB documentation for more informations. Use it through the WriteBatch client module class. It has three base methods modeled on LevelDB's Put, Delete, Write.</p>

<p><strong>Example:</strong></p>

<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">elevator.client</span> <span class="kn">import</span> <span class="n">WriteBatch</span><span class="p">,</span> <span class="n">Elevator</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">batch</span> <span class="o">=</span> <span class="n">WriteBatch</span><span class="p">()</span>  <span class="c"># N.B : port, host, and timeout options are available here</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">batch</span><span class="o">.</span><span class="n">Put</span><span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">)</span>
<span class="s">''</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">batch</span><span class="o">.</span><span class="n">Put</span><span class="p">(</span><span class="s">'b'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">)</span>
<span class="s">''</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">batch</span><span class="o">.</span><span class="n">Put</span><span class="p">(</span><span class="s">'c'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">)</span>
<span class="s">''</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">batch</span><span class="o">.</span><span class="n">Delete</span><span class="p">(</span><span class="s">'c'</span><span class="p">)</span>
<span class="s">''</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">batch</span><span class="o">.</span><span class="n">Write</span><span class="p">()</span>
<span class="s">''</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">E</span> <span class="o">=</span> <span class="n">Elevator</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">E</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">'a'</span><span class="p">)</span>
<span class="s">'a'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">E</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">'b'</span><span class="p">)</span>
<span class="s">'b'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">E</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">'c'</span><span class="p">)</span>
<span class="ne">KeyError</span><span class="p">:</span> <span class="s">"Key not found"</span>
</pre></div>

<h3>Thanks</h3>

<p>Thanks to srinikom for its leveldb-server which was a very good base to start from. Thanks to Google, for its amazing database. Thanks to ZeroMQ team, you changed my life!</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Elevator maintained by <a href="https://github.com/oleiade">oleiade</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
